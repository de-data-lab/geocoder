{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createSpanFunction } from \"@azure/core-tracing\";\n/**\n * Creates a span using the global tracer.\n * @internal\n */\nexport const createSpan = createSpanFunction({\n  packagePrefix: \"Azure.Storage.Blob\",\n  namespace: \"Microsoft.Storage\"\n});\n/**\n * @internal\n *\n * Adapt the tracing options from OperationOptions to what they need to be for\n * RequestOptionsBase (when we update to later OpenTelemetry versions this is now\n * two separate fields, not just one).\n */\nexport function convertTracingToRequestOptionsBase(options) {\n  var _a, _b;\n  return {\n    // By passing spanOptions if they exist at runtime, we're backwards compatible with @azure/core-tracing@preview.13 and earlier.\n    spanOptions: (_a = options === null || options === void 0 ? void 0 : options.tracingOptions) === null || _a === void 0 ? void 0 : _a.spanOptions,\n    tracingContext: (_b = options === null || options === void 0 ? void 0 : options.tracingOptions) === null || _b === void 0 ? void 0 : _b.tracingContext\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA;AAGA,SAASA,kBAAkB,QAAQ,qBAAqB;AAExD;;;;AAIA,OAAO,MAAMC,UAAU,GAAGD,kBAAkB,CAAC;EAC3CE,aAAa,EAAE,oBAAoB;EACnCC,SAAS,EAAE;CACZ,CAAC;AAEF;;;;;;;AAOA,OAAM,SAAUC,kCAAkC,CAChDC,OAA0B;;EAE1B,OAAO;IACL;IACAC,WAAW,EAAE,MAACD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,cAAsB,0CAAED,WAAW;IAC1DE,cAAc,EAAE,aAAO,aAAPH,OAAO,uBAAPA,OAAO,CAAEE,cAAc,0CAAEC;GAC1C;AACH","names":["createSpanFunction","createSpan","packagePrefix","namespace","convertTracingToRequestOptionsBase","options","spanOptions","tracingOptions","tracingContext"],"sourceRoot":"","sources":["../../../../src/utils/tracing.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { OperationOptions, RequestOptionsBase } from \"@azure/core-http\";\nimport { createSpanFunction } from \"@azure/core-tracing\";\n\n/**\n * Creates a span using the global tracer.\n * @internal\n */\nexport const createSpan = createSpanFunction({\n  packagePrefix: \"Azure.Storage.Blob\",\n  namespace: \"Microsoft.Storage\",\n});\n\n/**\n * @internal\n *\n * Adapt the tracing options from OperationOptions to what they need to be for\n * RequestOptionsBase (when we update to later OpenTelemetry versions this is now\n * two separate fields, not just one).\n */\nexport function convertTracingToRequestOptionsBase(\n  options?: OperationOptions\n): Pick<RequestOptionsBase, \"spanOptions\" | \"tracingContext\"> {\n  return {\n    // By passing spanOptions if they exist at runtime, we're backwards compatible with @azure/core-tracing@preview.13 and earlier.\n    spanOptions: (options?.tracingOptions as any)?.spanOptions,\n    tracingContext: options?.tracingOptions?.tracingContext,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}