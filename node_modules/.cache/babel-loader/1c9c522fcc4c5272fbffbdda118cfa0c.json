{"ast":null,"code":"/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nimport { ScopeSet } from \"../ScopeSet\";\nimport { UrlUtils } from \"./UrlUtils\";\n/**\n * @hidden\n */\nvar AuthCacheUtils = /** @class */function () {\n  function AuthCacheUtils() {}\n  AuthCacheUtils.filterTokenCacheItemsByScope = function (tokenCacheItems, requestScopes) {\n    return tokenCacheItems.filter(function (cacheItem) {\n      var cachedScopes = cacheItem.key.scopes.split(\" \");\n      var searchScopes = ScopeSet.removeDefaultScopes(requestScopes);\n      // If requestScopes contain only default scopes search for default scopes otherwise search for everything but default scopes\n      return searchScopes.length === 0 ? ScopeSet.containsScope(cachedScopes, requestScopes) : ScopeSet.containsScope(cachedScopes, searchScopes);\n    });\n  };\n  AuthCacheUtils.filterTokenCacheItemsByAuthority = function (tokenCacheItems, authority) {\n    return tokenCacheItems.filter(function (cacheItem) {\n      return UrlUtils.CanonicalizeUri(cacheItem.key.authority) === authority;\n    });\n  };\n  AuthCacheUtils.filterTokenCacheItemsByDomain = function (tokenCacheItems, requestDomain) {\n    return tokenCacheItems.filter(function (cacheItem) {\n      var cacheItemDomain = UrlUtils.GetUrlComponents(cacheItem.key.authority).HostNameAndPort;\n      return cacheItemDomain === requestDomain;\n    });\n  };\n  return AuthCacheUtils;\n}();\nexport { AuthCacheUtils };","map":{"version":3,"mappings":"AAAA;;;;AAMA,SAASA,QAAQ,QAAQ,aAAa;AACtC,SAASC,QAAQ,QAAQ,YAAY;AAErC;;;AAGA;EAAA,2BAsBA;EArBWC,2CAA4B,GAAnC,UAAoCC,eAA4C,EAAEC,aAAwB;IACtG,OAAOD,eAAe,CAACE,MAAM,CAAC,UAACC,SAA+B;MAC1D,IAAMC,YAAY,GAAGD,SAAS,CAACE,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;MACpD,IAAMC,YAAY,GAAGX,QAAQ,CAACY,mBAAmB,CAACR,aAAa,CAAC;MAEhE;MACA,OAAOO,YAAY,CAACE,MAAM,KAAK,CAAC,GAAGb,QAAQ,CAACc,aAAa,CAACP,YAAY,EAAEH,aAAa,CAAC,GAAEJ,QAAQ,CAACc,aAAa,CAACP,YAAY,EAAEI,YAAY,CAAC;IAC9I,CAAC,CAAC;EAEN,CAAC;EAEMT,+CAAgC,GAAvC,UAAwCC,eAA4C,EAAEY,SAAiB;IACnG,OAAOZ,eAAe,CAACE,MAAM,CAAC,UAACC,SAA+B;MAAK,eAAQ,CAACU,eAAe,CAACV,SAAS,CAACE,GAAG,CAACO,SAAS,CAAC,KAAKA,SAAS;IAA/D,CAA+D,CAAC;EACvI,CAAC;EAEMb,4CAA6B,GAApC,UAAqCC,eAA4C,EAAEc,aAAqB;IACpG,OAAOd,eAAe,CAACE,MAAM,CAAC,mBAAS;MACnC,IAAMa,eAAe,GAAGjB,QAAQ,CAACkB,gBAAgB,CAACb,SAAS,CAACE,GAAG,CAACO,SAAS,CAAC,CAACK,eAAe;MAC1F,OAAOF,eAAe,KAAKD,aAAa;IAC5C,CAAC,CAAC;EACN,CAAC;EACL,qBAAC;AAAD,CAAC,EAtBD","names":["ScopeSet","UrlUtils","AuthCacheUtils","tokenCacheItems","requestScopes","filter","cacheItem","cachedScopes","key","scopes","split","searchScopes","removeDefaultScopes","length","containsScope","authority","CanonicalizeUri","requestDomain","cacheItemDomain","GetUrlComponents","HostNameAndPort"],"sourceRoot":"","sources":["../../src/utils/AuthCacheUtils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}