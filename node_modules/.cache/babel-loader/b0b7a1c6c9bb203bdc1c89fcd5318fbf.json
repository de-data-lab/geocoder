{"ast":null,"code":"/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nimport { StringUtils } from \"./utils/StringUtils\";\nimport { version as libraryVersion } from \"./packageMetadata\";\nexport var LogLevel;\n(function (LogLevel) {\n  LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\n  LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n  LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\n  LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n})(LogLevel || (LogLevel = {}));\nvar Logger = /** @class */function () {\n  function Logger(localCallback, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    /**\n     * @hidden\n     */\n    this.level = LogLevel.Info;\n    var _a = options.correlationId,\n      correlationId = _a === void 0 ? \"\" : _a,\n      _b = options.level,\n      level = _b === void 0 ? LogLevel.Info : _b,\n      _c = options.piiLoggingEnabled,\n      piiLoggingEnabled = _c === void 0 ? false : _c;\n    this.localCallback = localCallback;\n    this.correlationId = correlationId;\n    this.level = level;\n    this.piiLoggingEnabled = piiLoggingEnabled;\n  }\n  /**\n   * @hidden\n   */\n  Logger.prototype.logMessage = function (logLevel, logMessage, containsPii) {\n    if (logLevel > this.level || !this.piiLoggingEnabled && containsPii) {\n      return;\n    }\n    var timestamp = new Date().toUTCString();\n    var log;\n    if (!StringUtils.isEmpty(this.correlationId)) {\n      log = timestamp + \":\" + this.correlationId + \"-\" + libraryVersion + \"-\" + LogLevel[logLevel] + (containsPii ? \"-pii\" : \"\") + \" \" + logMessage;\n    } else {\n      log = timestamp + \":\" + libraryVersion + \"-\" + LogLevel[logLevel] + (containsPii ? \"-pii\" : \"\") + \" \" + logMessage;\n    }\n    this.executeCallback(logLevel, log, containsPii);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.executeCallback = function (level, message, containsPii) {\n    if (this.localCallback) {\n      this.localCallback(level, message, containsPii);\n    }\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.error = function (message) {\n    this.logMessage(LogLevel.Error, message, false);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.errorPii = function (message) {\n    this.logMessage(LogLevel.Error, message, true);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.warning = function (message) {\n    this.logMessage(LogLevel.Warning, message, false);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.warningPii = function (message) {\n    this.logMessage(LogLevel.Warning, message, true);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.info = function (message) {\n    this.logMessage(LogLevel.Info, message, false);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.infoPii = function (message) {\n    this.logMessage(LogLevel.Info, message, true);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.verbose = function (message) {\n    this.logMessage(LogLevel.Verbose, message, false);\n  };\n  /**\n   * @hidden\n   */\n  Logger.prototype.verbosePii = function (message) {\n    this.logMessage(LogLevel.Verbose, message, true);\n  };\n  Logger.prototype.isPiiLoggingEnabled = function () {\n    return this.piiLoggingEnabled;\n  };\n  return Logger;\n}();\nexport { Logger };","map":{"version":3,"mappings":"AAAA;;;;AAKA,SAASA,WAAW,QAAQ,qBAAqB;AACjD,SAASC,OAAO,IAAIC,cAAc,QAAQ,mBAAmB;AAM7D,WAAYC,QAKX;AALD,WAAYA,QAAQ;EAChBA,yCAAK;EACLA,6CAAO;EACPA,uCAAI;EACJA,6CAAO;AACX,CAAC,EALWA,QAAQ,KAARA,QAAQ;AAOpB;EA4BI,gBAAYC,aAA8B,EACtCC,OAKM;IALN;MAAAA,YAKM;IAAA;IArBV;;;IAGQ,UAAK,GAAaF,QAAQ,CAACG,IAAI;IAoB/B,SAGAD,OAAO,cAHW;MAAlBE,aAAa,mBAAG,EAAE;MAClBC,KAEAH,OAAO,MAFc;MAArBI,KAAK,mBAAGN,QAAQ,CAACG,IAAI;MACrBI,KACAL,OAAO,kBADkB;MAAzBM,iBAAiB,mBAAG,KAAK;IAG7B,IAAI,CAACP,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACG,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACE,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,iBAAiB,GAAGA,iBAAiB;EAC9C;EAEA;;;EAGQC,2BAAU,GAAlB,UAAmBC,QAAkB,EAAEC,UAAkB,EAAEC,WAAoB;IAC3E,IAAKF,QAAQ,GAAG,IAAI,CAACJ,KAAK,IAAM,CAAC,IAAI,CAACE,iBAAiB,IAAII,WAAY,EAAE;MACrE;;IAEJ,IAAMC,SAAS,GAAG,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;IAC1C,IAAIC,GAAW;IACf,IAAI,CAACnB,WAAW,CAACoB,OAAO,CAAC,IAAI,CAACb,aAAa,CAAC,EAAE;MAC1CY,GAAG,GAAGH,SAAS,GAAG,GAAG,GAAG,IAAI,CAACT,aAAa,GAAG,GAAG,GAAGL,cAAc,GAAG,GAAG,GAAGC,QAAQ,CAACU,QAAQ,CAAC,IAAIE,WAAW,GAAG,MAAM,GAAG,EAAE,CAAC,GAAG,GAAG,GAAGD,UAAU;KAChJ,MACI;MACDK,GAAG,GAAGH,SAAS,GAAG,GAAG,GAAGd,cAAc,GAAG,GAAG,GAAGC,QAAQ,CAACU,QAAQ,CAAC,IAAIE,WAAW,GAAG,MAAM,GAAG,EAAE,CAAC,GAAG,GAAG,GAAGD,UAAU;;IAEtH,IAAI,CAACO,eAAe,CAACR,QAAQ,EAAEM,GAAG,EAAEJ,WAAW,CAAC;EACpD,CAAC;EAED;;;EAGAH,gCAAe,GAAf,UAAgBH,KAAe,EAAEa,OAAe,EAAEP,WAAoB;IAClE,IAAI,IAAI,CAACX,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACK,KAAK,EAAEa,OAAO,EAAEP,WAAW,CAAC;;EAEvD,CAAC;EAED;;;EAGAH,sBAAK,GAAL,UAAMU,OAAe;IACjB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACoB,KAAK,EAAED,OAAO,EAAE,KAAK,CAAC;EACnD,CAAC;EAED;;;EAGAV,yBAAQ,GAAR,UAASU,OAAe;IACpB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACoB,KAAK,EAAED,OAAO,EAAE,IAAI,CAAC;EAClD,CAAC;EAED;;;EAGAV,wBAAO,GAAP,UAAQU,OAAe;IACnB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACqB,OAAO,EAAEF,OAAO,EAAE,KAAK,CAAC;EACrD,CAAC;EAED;;;EAGAV,2BAAU,GAAV,UAAWU,OAAe;IACtB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACqB,OAAO,EAAEF,OAAO,EAAE,IAAI,CAAC;EACpD,CAAC;EAED;;;EAGAV,qBAAI,GAAJ,UAAKU,OAAe;IAChB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACG,IAAI,EAAEgB,OAAO,EAAE,KAAK,CAAC;EAClD,CAAC;EAED;;;EAGAV,wBAAO,GAAP,UAAQU,OAAe;IACnB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACG,IAAI,EAAEgB,OAAO,EAAE,IAAI,CAAC;EACjD,CAAC;EAED;;;EAGAV,wBAAO,GAAP,UAAQU,OAAe;IACnB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACsB,OAAO,EAAEH,OAAO,EAAE,KAAK,CAAC;EACrD,CAAC;EAED;;;EAGAV,2BAAU,GAAV,UAAWU,OAAe;IACtB,IAAI,CAACR,UAAU,CAACX,QAAQ,CAACsB,OAAO,EAAEH,OAAO,EAAE,IAAI,CAAC;EACpD,CAAC;EAEDV,oCAAmB,GAAnB;IACI,OAAO,IAAI,CAACD,iBAAiB;EACjC,CAAC;EACL,aAAC;AAAD,CAAC,EArID","names":["StringUtils","version","libraryVersion","LogLevel","localCallback","options","Info","correlationId","_b","level","_c","piiLoggingEnabled","Logger","logLevel","logMessage","containsPii","timestamp","Date","toUTCString","log","isEmpty","executeCallback","message","Error","Warning","Verbose"],"sourceRoot":"","sources":["../src/Logger.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}