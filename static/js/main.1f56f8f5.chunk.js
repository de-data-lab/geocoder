(this["webpackJsonpjs-e2e-browser-file-upload-storage-blob"]=this["webpackJsonpjs-e2e-browser-file-upload-storage-blob"]||[]).push([[0],{107:function(e,t,a){},140:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a(117),s=a.n(n),r=(a(140),a(40)),i=a(2),o=a(7),l=a(39),b=(a(107),a(118)),d=a(190),j="".concat("trigger"),u="?sv=2021-12-02&ss=bfqt&srt=sco&sp=rwdlacupiytfx&se=2023-03-10T00:21:23Z&st=2023-03-09T16:21:23Z&spr=https,http&sig=VBqL0AmBwrbcbUo0Kuk61%2FPyqSFv6smgBjwfavvw1Wo%3D",h="geolocator",m=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,o,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=!1,n=!1,e.prev=3,r=Object(b.a)(t.listBlobsFlat());case 5:return e.next=7,r.next();case 7:if(!(c=!(o=e.sent).done)){e.next=13;break}l=o.value,a.push("https://".concat(h,".blob.core.windows.net/").concat(j,"/").concat(l.name));case 10:c=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n=!0,s=e.t0;case 19:if(e.prev=19,e.prev=20,!c||null==r.return){e.next=24;break}return e.next=24,r.return();case 24:if(e.prev=24,!n){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,a){var c,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok 1"),console.log(a),console.log(t),c=t.getBlockBlobClient(a.name),console.log("ok 2"),console.log(c),n={blobHTTPHeaders:{blobContentType:a.type}},e.next=9,c.uploadData(a,n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return a=new d.a("https://".concat(h,".blob.core.windows.net/?").concat(u)),c=a.getContainerClient(j),e.next=6,c.createIfNotExists({access:"container"});case 6:return e.next=8,v(c,t);case 8:return e.abrupt("return",m(c));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=x,p=a(104),f=a(41),g={auth:{clientId:"".concat("5040f4a8-80f1-43ea-8110-4597674bf5fd"),authority:"".concat("https://login.microsoftonline.com/6b6e686a-17c6-4ec7-acae-89575bb57139"),redirectUri:"".concat("https://de-data-lab.github.io/geolocator/")},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},N={scopes:["User.Read"]},w=a(15),k=function(){var e=Object(f.e)().instance;return Object(w.jsx)("div",{onClick:function(){"popup"==="popup"&&(console.log("count login"),e.loginPopup(N).catch((function(e){console.log(e)})))},children:"Sign in"})},y=(a(163),function(){var e=Object(f.e)().instance;return Object(w.jsx)("div",{onClick:function(){"popup"==="popup"&&e.logoutPopup({postLogoutRedirectUri:"/geolocator",mainWindowRedirectUri:"/geolocator"})},children:"Sign out"})}),S=(a(164),a.p+"static/media/Geo_logo.c7423293.png"),B=a(128),C=a(127),U=function(e){var t=Object(f.d)();return Object(w.jsx)("div",{children:Object(w.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(w.jsxs)("div",{className:"navbar-brand",children:[Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:Object(w.jsx)("img",{src:S,width:"112",height:"28",alt:""})}),Object(w.jsxs)("a",{role:"button",href:"https://de-data-lab.github.io/geolocator/",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(w.jsx)("span",{"aria-hidden":"true"}),Object(w.jsx)("span",{"aria-hidden":"true"}),Object(w.jsx)("span",{"aria-hidden":"true"})]})]}),Object(w.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(w.jsxs)("div",{className:"navbar-start",children:[Object(w.jsx)("a",{className:"navbar-item is-hoverable",href:"https://de-data-lab.github.io/geolocator/",children:"Home"}),Object(w.jsx)("a",{className:"navbar-item is-hoverable",href:"https://de-data-lab.github.io/geolocator/",children:"Documentation"}),Object(w.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(w.jsx)("a",{className:"navbar-link",href:"https://de-data-lab.github.io/geolocator/",children:"More"}),Object(w.jsxs)("div",{className:"navbar-dropdown",children:[Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"About"}),Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"Contact"}),Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"Report an issue"})]})]})]}),Object(w.jsx)("div",{className:"navbar-end",children:Object(w.jsx)("div",{className:"navbar-item",children:Object(w.jsxs)("div",{className:"buttons",children:[t?Object(w.jsxs)("button",{className:"button",children:[Object(w.jsx)("span",{className:"icon",children:Object(w.jsx)(B.a,{icon:C.a,color:"#00d1b2"})}),Object(w.jsx)("span",{children:e.name})]}):Object(w.jsx)("div",{className:"button is-primary",children:Object(w.jsx)("strong",{children:"Sign up"})}),Object(w.jsx)("div",{className:"button is-light",children:t?Object(w.jsx)(y,{}):Object(w.jsx)(k,{})})]})})})]})]})})},F=function(e){return Object(w.jsx)("div",{className:"section",children:Object(w.jsx)("div",{className:"columns",children:Object(w.jsxs)("main",{className:"column",children:[Object(w.jsxs)("div",{className:"level",children:[Object(w.jsx)("div",{className:"level-left",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("div",{className:"title",children:e.hasUploaded?"You file has been uploaded successfully.":"You can upload a file now."})})}),Object(w.jsx)("div",{className:"level-right",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("button",{type:"button",className:"button is-small",children:"Beta version"})})})]}),Object(w.jsx)("div",{className:"columns is-multiline",children:Object(w.jsx)("div",{className:"column",children:Object(w.jsx)("div",{className:"b",children:e.children})})})]})})})},I=function(){return Object(w.jsx)("div",{className:"section",children:Object(w.jsx)("div",{className:"columns",children:Object(w.jsxs)("main",{className:"column",children:[Object(w.jsxs)("div",{className:"level",children:[Object(w.jsx)("div",{className:"level-left",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("div",{className:"title",children:"Instruction"})})}),Object(w.jsx)("div",{className:"level-right",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("button",{type:"button",className:"button is-small",children:"Beta version"})})})]}),Object(w.jsx)("div",{className:"columns is-multiline",children:Object(w.jsxs)("div",{className:"column",children:[Object(w.jsx)("div",{className:"b",children:"1. Login with your email."}),Object(w.jsx)("div",{className:"b",children:'2. Upload a ".csv", ".xls", or ".xlsx" file where the first line is a name like "addresses" and the other lines are addresses.'}),Object(w.jsx)("div",{className:"b",children:"3. You will receive email confirmation that your file has been received and is being processed."}),Object(w.jsx)("div",{className:"b",children:'4. The geolocated addresses will be emailed to you as a ".zip" file when they are ready.'})]})})]})})})},T=function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(U,Object(r.a)({},e)),Object(w.jsx)(f.a,{children:Object(w.jsx)(F,Object(r.a)({},e))}),Object(w.jsx)(f.c,{children:Object(w.jsx)(I,{})})]})},E=(a(167),function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),b=Object(l.a)(s,2),d=b[0],j=b[1],u=Object(f.e)(),h=u.instance,m=u.accounts,v=m[0]&&m[0].name,x=Object(c.useState)(!1),g=Object(l.a)(x,2),N=g[0],k=g[1],y=Object(c.useState)(Math.random().toString(36)),S=Object(l.a)(y,2),B=S[0],C=S[1];console.log(h),console.log(N),console.log(B);var U=function(e){j(e)},F=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,O(d[0].file);case 3:t=e.sent,n(t),j([]),k(!1),C(Math.random().toString(36));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){j(d.filter((function(t){return t.id!==e})))},E={background:"ffffff"},R=function(){return Object(w.jsxs)("div",{className:"upload-area",children:[Object(w.jsx)(p.a,{onChange:U,value:d,accept:".csv, .xls, .xlsx",label:"click or drop your files here",maxFiles:1,maxFileSize:104857600,style:E,children:d.length>0&&d.map((function(e){return Object(c.createElement)(p.b,Object(r.a)(Object(r.a)({},e),{},{onDelete:I,key:e.id,info:!0}))}))}),Object(w.jsx)("div",{className:"box has-text-centered",children:Object(w.jsx)("button",{type:"submit",className:"button is-primary",onClick:F,children:"Upload File"})})]})};return Object(w.jsxs)(T,{name:v,hasUploaded:a.length>0,children:[Object(w.jsx)(f.a,{children:Object(w.jsx)(R,{})}),Object(w.jsx)(f.c,{})]})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=new(a(189).a)(g),D=s.a.createRoot(document.getElementById("root"));console.log("msInstance: "+R),D.render(Object(w.jsx)(f.b,{instance:R,children:Object(w.jsx)(E,{})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t){}},[[168,1,2]]]);
//# sourceMappingURL=main.1f56f8f5.chunk.js.map