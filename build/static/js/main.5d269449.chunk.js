(this["webpackJsonpjs-e2e-browser-file-upload-storage-blob"]=this["webpackJsonpjs-e2e-browser-file-upload-storage-blob"]||[]).push([[0],{110:function(e,t,c){},143:function(e,t,c){},175:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(121),s=c.n(n),r=(c(143),c(40)),i=c(2),o=c(7),l=c(39),b=(c(110),c(122)),j=c(197),d="".concat("trigger"),u="?sv=2021-12-02&ss=bfqt&srt=sco&sp=rwdlacupiytfx&se=2023-05-01T20:36:46Z&st=2023-05-01T12:36:46Z&spr=https,http&sig=kRtgUcn0Eor7Q4YXCT17dnpRagF1nvpLESLxyWahAIM%3D",h="geolocator",m=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,a,n,s,r,o,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=!1,n=!1,e.prev=3,r=Object(b.a)(t.listBlobsFlat());case 5:return e.next=7,r.next();case 7:if(!(a=!(o=e.sent).done)){e.next=13;break}l=o.value,c.push("https://".concat(h,".blob.core.windows.net/").concat(d,"/").concat(l.name));case 10:a=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n=!0,s=e.t0;case 19:if(e.prev=19,e.prev=20,!a||null==r.return){e.next=24;break}return e.next=24,r.return();case 24:if(e.prev=24,!n){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,c){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok 1"),console.log(c),console.log(t),a=t.getBlockBlobClient(c.name),console.log("ok 2"),console.log(a),n={blobHTTPHeaders:{blobContentType:c.type}},e.next=9,a.uploadData(c,n);case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return c=new j.a("https://".concat(h,".blob.core.windows.net/?").concat(u)),a=c.getContainerClient(d),e.next=6,a.createIfNotExists({access:"container"});case 6:return e.next=8,x(a,t);case 8:return e.abrupt("return",m(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=p,f=c(107),v=c(41),g={auth:{clientId:"".concat("5040f4a8-80f1-43ea-8110-4597674bf5fd"),authority:"".concat("https://login.microsoftonline.com/6b6e686a-17c6-4ec7-acae-89575bb57139"),redirectUri:"".concat("https://de-data-lab.github.io/geolocator/")},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},N={scopes:["User.Read"]},w=c(14),y=function(){var e=Object(v.e)().instance;return Object(w.jsx)("div",{onClick:function(){"popup"==="popup"&&(console.log("count login"),e.loginPopup(N).catch((function(e){console.log(e)})))},children:"Sign in"})},k=(c(166),function(){var e=Object(v.e)().instance;return Object(w.jsx)("div",{onClick:function(){"popup"==="popup"&&e.logoutPopup({postLogoutRedirectUri:"/geolocator",mainWindowRedirectUri:"/geolocator"})},children:"Sign out"})}),S=(c(167),c.p+"static/media/Geo_logo.e0859b97.png"),B=c.p+"static/media/login.18734caf.png",C=c.p+"static/media/upload.1f8d18b0.png",T=c.p+"static/media/confirmation.20388572.png",R=c.p+"static/media/result.9c5c2108.png",E=c(75),U=c(53),A=c(74),I=(c(173),function(e){var t=Object(v.d)();return Object(w.jsx)("div",{children:Object(w.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(w.jsxs)("div",{className:"navbar-brand",children:[Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:Object(w.jsx)("img",{src:S,alt:""})}),Object(w.jsxs)("a",{role:"button",href:"https://de-data-lab.github.io/geolocator/",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(w.jsx)("span",{"aria-hidden":"true"}),Object(w.jsx)("span",{"aria-hidden":"true"}),Object(w.jsx)("span",{"aria-hidden":"true"})]})]}),Object(w.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(w.jsxs)("div",{className:"navbar-start",children:[Object(w.jsx)("a",{className:"navbar-item is-hoverable",href:"https://de-data-lab.github.io/geolocator/",children:"Home"}),Object(w.jsx)("a",{className:"navbar-item is-hoverable",href:"https://de-data-lab.github.io/geolocator/",children:"Documentation"}),Object(w.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(w.jsx)("a",{className:"navbar-link",href:"https://de-data-lab.github.io/geolocator/",children:"More"}),Object(w.jsxs)("div",{className:"navbar-dropdown",children:[Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"About"}),Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"Contact"}),Object(w.jsx)("a",{className:"navbar-item",href:"https://de-data-lab.github.io/geolocator/",children:"Report an issue"})]})]})]}),Object(w.jsx)("div",{className:"navbar-end",children:Object(w.jsx)("div",{className:"navbar-item",children:Object(w.jsxs)("div",{className:"buttons",children:[t?Object(w.jsxs)("button",{className:"button",children:[Object(w.jsx)("span",{className:"icon",children:Object(w.jsx)(E.a,{icon:U.e,color:"#0057B8"})}),Object(w.jsx)("span",{children:e.name})]}):Object(w.jsx)("div",{className:"button is-primary",style:{backgroundColor:"#0057B8"},children:Object(w.jsx)("strong",{children:"Sign up"})}),Object(w.jsx)("div",{className:"button is-light",children:t?Object(w.jsx)(k,{}):Object(w.jsx)(y,{})})]})})})]})]})})}),F=function(e){return Object(w.jsx)("div",{className:"section",children:Object(w.jsx)("div",{className:"columns",children:Object(w.jsxs)("main",{className:"column",children:[Object(w.jsxs)("div",{className:"level",children:[Object(w.jsx)("div",{className:"level-left",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("div",{className:"title"})})}),Object(w.jsx)("div",{className:"level-right",children:Object(w.jsx)("div",{className:"level-item",children:Object(w.jsx)("button",{type:"button",className:"button is-small",children:"Beta version"})})})]}),Object(w.jsx)("div",{className:"columns is-multiline",children:Object(w.jsx)("div",{className:"column",children:Object(w.jsx)("div",{className:"b",children:e.children})})})]})})})},L=function(e){return Object(w.jsx)("img",{src:e.src,style:{marginTop:"30px"}})},D=function(){return Object(w.jsx)("div",{className:"section",children:Object(w.jsxs)(A.VerticalTimeline,{children:[Object(w.jsxs)(A.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#0057B8",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #0057B8"},iconStyle:{background:"#0057B8",color:"#fff"},icon:Object(w.jsx)(E.a,{icon:U.a}),children:[Object(w.jsx)("h3",{className:"vertical-timeline-element-title",children:"LOGIN"}),Object(w.jsx)("h4",{className:"vertical-timeline-element-subtitle"}),Object(w.jsx)("p",{children:"Login with your email."}),Object(w.jsx)(L,{src:B})]}),Object(w.jsxs)(A.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#0057B8",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #0057B8"},iconStyle:{background:"#0057B8",color:"#fff"},icon:Object(w.jsx)(E.a,{icon:U.b}),children:[Object(w.jsx)("h3",{className:"vertical-timeline-element-title",children:"UPLOAD"}),Object(w.jsx)("h4",{className:"vertical-timeline-element-subtitle"}),Object(w.jsx)("p",{children:'Upload a ".csv", ".xls", or ".xlsx" file where the first line is a name like "addresses" and the other lines are addresses.'}),Object(w.jsx)(L,{src:C})]}),Object(w.jsxs)(A.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#0057B8",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #0057B8"},iconStyle:{background:"#0057B8",color:"#fff"},icon:Object(w.jsx)(E.a,{icon:U.c}),children:[Object(w.jsx)("h3",{className:"vertical-timeline-element-title",children:"CONFIRMATION"}),Object(w.jsx)("h4",{className:"vertical-timeline-element-subtitle"}),Object(w.jsx)("p",{children:"You will receive email confirmation that your file has been received and is being processed."}),Object(w.jsx)(L,{src:T})]}),Object(w.jsxs)(A.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"#0057B8",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #0057B8"},iconStyle:{background:"#0057B8",color:"#fff"},icon:Object(w.jsx)(E.a,{icon:U.d}),children:[Object(w.jsx)("h3",{className:"vertical-timeline-element-title",children:"RESULT"}),Object(w.jsx)("h4",{className:"vertical-timeline-element-subtitle"}),Object(w.jsx)("p",{children:'The geocoded addresses will be emailed to you as a ".zip" file when they are ready.'}),Object(w.jsx)(L,{src:R})]})]})})},M=function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(I,Object(r.a)({},e)),Object(w.jsx)(v.a,{children:Object(w.jsx)(F,Object(r.a)({},e))}),Object(w.jsx)(v.c,{children:Object(w.jsx)(D,{})})]})},P=(c(174),c(131)),V=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),b=Object(l.a)(s,2),j=b[0],d=b[1],u=Object(v.e)(),h=u.instance,m=u.accounts,x=m[0]&&m[0].name,p=Object(a.useState)(!1),g=Object(l.a)(p,2),N=g[0],y=g[1],k=Object(a.useState)(Math.random().toString(36)),S=Object(l.a)(k,2),B=S[0],C=S[1];console.log(h),console.log(N),console.log(B);var T=function(e){d(e)},R=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,O(j[0].file);case 3:t=e.sent,n(t),D({type:"success",text:"File successfully uploaded.",show:!0}),d([]),y(!1),C(Math.random().toString(36));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){d(j.filter((function(t){return t.id!==e})))},U={background:"ffffff"},A=function(){return Object(w.jsxs)("div",{className:"upload-area",children:[Object(w.jsx)(f.a,{onChange:T,value:j,accept:".csv, .xls, .xlsx",label:"click or drop your files here",maxFiles:1,maxFileSize:104857600,style:U,children:j.length>0&&j.map((function(e){return Object(a.createElement)(f.b,Object(r.a)(Object(r.a)({},e),{},{onDelete:E,key:e.id,info:!0}))}))}),Object(w.jsx)("div",{className:"box has-text-centered",children:Object(w.jsx)("button",{type:"submit",className:"button is-primary",style:{backgroundColor:"#0057B8"},onClick:R,children:"Upload File"})})]})},I=Object(a.useState)({type:"error",text:"This is a alert message",show:!1}),F=Object(l.a)(I,2),L=F[0],D=F[1];return Object(w.jsxs)("div",{children:[Object(w.jsxs)(M,{name:x,hasUploaded:c.length>0,children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(A,{})}),Object(w.jsx)(v.c,{})]}),Object(w.jsx)(P.a,{header:"",btnText:"Close",text:L.text,type:L.type,show:L.show,onClosePress:function(){D({type:"",text:"",show:!1})},pressCloseOnOutsideClick:!0,showBorderBottom:!0,alertStyles:{},headerStyles:{},textStyles:{},buttonStyles:{}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=new(c(196).a)(g),H=s.a.createRoot(document.getElementById("root"));console.log("msInstance: "+W),H.render(Object(w.jsx)(v.b,{instance:W,children:Object(w.jsx)(V,{})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t){}},[[175,1,2]]]);
//# sourceMappingURL=main.5d269449.chunk.js.map